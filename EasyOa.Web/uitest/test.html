<html>
<head>
    <title></title>
    <script src="../Scripts/jquery-1.7.1.js"></script>
    <link href="calendar.css" rel="stylesheet" />
    <script src="Calendar.js"></script>
    <script>
        $(function () {
            var date = new Date();
            var  curr_time_arr = [date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()];
            var con_data = $(".calendar_maindata_containter");
            var con_year = $(".calendar_mainyear_containter");
            var con_month = $(".calendar_mainmonth_containter");
            $("#title_year").click(function () {   //点击年
                con_year.stop(); con_month.stop();
                con_year.css({ "z-index": parseInt(con_month.css("z-index"), 10) + 1 });   //让year层在month层上面
                if (con_year.attr("flag") == "0") {   //flag=0;表示年div未显示
                    con_year.animate({ bottom: 0 }, 500, function () {
                        con_month.css({ bottom: con_data.css("height") });
                        con_year.attr("flag", "1");
                        con_month.attr("flag", "0");
                    });
                } else {
                    con_year.animate({ bottom: con_data.css("height") }, 500);
                    con_year.attr("flag", "0");
                }
            })
            $("#title_month").click(function () {  //点击月
                con_year.stop(); con_month.stop();
                con_month.css({ "z-index": parseInt(con_year.css("z-index"), 10) + 1 });  //让moth层在year层上面
                if (con_month.attr("flag") == "0") {   //flag=0;表示月div未显示
                    con_month.animate({ bottom: 0 }, 500, function () {
                        con_year.css({ bottom: con_data.css("height") });
                        con_month.attr("flag", "1");
                        con_year.attr("flag", "0");
                    });
                } else {
                    con_month.animate({ bottom: con_data.css("height") }, 500);
                    con_month.attr("flag", "0");
                }
            });
            $("#last_year").click(function () {  //上一年
                if (isYearDisplay()) {  //当前年份div正在显示
                    dispalyLastYearDiv(curr_time_arr[0]);
                }
                --curr_time_arr[0];
                $("#title_year").text(curr_time_arr[0] + "年");
                changeMainData("left");  //动画改变日期面板
            });
            $("#next_year").click(function () {  //下一年
                ++curr_time_arr[0];
                $("#title_year").text(curr_time_arr[0] + "年");
                changeMainData("right");  //动画改变日期面板
            });
            $("#last_month").click(function () {  //上一月
                --curr_time_arr[1];
                if (curr_time_arr[1] < 0) {
                    curr_time_arr[0]--;
                    curr_time_arr[1] = 11;
                    $("#title_year").text(curr_time_arr[0] + "年");
                }
                $("#title_month").text(monthFormat(parseInt(curr_time_arr[1], 10) + 1, 2) + "月");
                changeMainData("left");//动画改变日期面板
            })
            $("#next_month").click(function () {  //下一月
                ++curr_time_arr[1];
                if (curr_time_arr[1] > 11) {
                    curr_time_arr[0]++;
                    curr_time_arr[1] = 0;
                    $("#title_year").text(curr_time_arr[0] + "年");
                }
                $("#title_month").text(monthFormat(parseInt(curr_time_arr[1], 10) + 1, 2) + "月");
                changeMainData("right");
            })
            //事件冒泡
            $(".calendar_maindata_containter").click(function (e) {
                if (e.target.nodeName.toLowerCase() == "div" && $(e.target).attr("class") != "calendar_data_containter") {
                    var day = $(e.target).text();
                    if ($.isNumeric(day)) {
                        curr_time_arr[2] = day;
                        var date = dateFormat(curr_time_arr);
                        $("#txt1").val(date);
                    }
                }
            })
        })
    </script>
</head>
<body>
    <div id="calendar" class="calendar add_cal_len1">
        <div id="calendar_title_containter" class="calendar_title_containter">
            <div class="last_year"><span id="last_year"></span></div>
            <div class="last_month"><span id="last_month"></span></div>
            <div class="title_year"><span id="title_year">2015年</span></div>
            <div class="title_month"><span id="title_month">01月</span></div>
            <div class="next_month"><span id="next_month"></span></div>
            <div class="next_year"><span id="next_year"></span></div>
        </div>
        <div id="calendar_maindata_containter" class="calendar_maindata_containter add_main_date_len1">
            <div id="week_container" class="week_container">
                <div id="calendar_week" class="calendar_week">
                    <div>日</div>
                    <div>一</div>
                    <div>二</div>
                    <div>三</div>
                    <div>四</div>
                    <div>五</div>
                    <div>六</div>
                </div>
            </div>
            <div class="calendar_data_containter" flag="1">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <div>1</div>
                <div>2</div>
                <div>3</div>
                <div>4</div>
                <div class="today">5</div>
                <div>6</div>
                <div>7</div>
                <div>8</div>
                <div>9</div>
                <div>10</div>
                <div>11</div>
                <div>12</div>
                <div>13</div>
                <div>14</div>
                <div>15</div>
                <div>16</div>
                <div>17</div>
                <div>18</div>
                <div>19</div>
                <div>20</div>
                <div>21</div>
                <div>22</div>
                <div>23</div>
                <div>24</div>
                <div>25</div>
                <div>26</div>
                <div>27</div>
                <div>28</div>
                <div>29</div>
                <div>30</div>
                <div>31</div>
            </div>
        </div>
        <div class="calendar_mainyear_containter mainyear_height1 mainyear_bottom1" flag="0">
            <div>2000</div>
            <div>2001</div>
            <div>2002</div>
            <div>2003</div>
            <div>2004</div>
            <div>2005</div>
            <div>2006</div>
            <div>2007</div>
            <div>2008</div>
            <div>2009</div>
            <div>2010</div>
            <div>2011</div>
            <div>2012</div>
            <div>2013</div>
            <div>2014</div>
            <div>2015</div>
        </div>
        <div class="calendar_mainmonth_containter mainmonth_height1 mainmonth_bottom1" flag="0">
            <div>一月</div>
            <div>二月</div>
            <div>三月</div>
            <div>四月</div>
            <div>五月</div>
            <div>六月</div>
            <div>七月</div>
            <div>八月</div>
            <div>九月</div>
            <div>十月</div>
            <div>十一月</div>
            <div>十二月</div>
        </div>
    </div>
    <div id="calendar_time" class="calendar_time">
        <span id="hover_txt">20</span>:<span id="minute_txt">55</span>:<span id="second_txt">22</span>
        <div class="hover_containter">
            <div>00</div>
            <div>01</div>
            <div>02</div>
            <div>03</div>
            <div>04</div>
            <div>05</div>
            <div>06</div>
        </div>
    </div>
</body>
</html>
<script>
   
</script>